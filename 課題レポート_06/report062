% [定理 ０９(内角)] ----------------------------------------------------;
% 三角形の内角の二等分線は、対辺を他の二辺の比に分ける
% ※△ABCの底辺（BC）が常にy軸上にあるように座標を取る(関数tangentをつかうため)
% A(u1, u2) B(0, u3) C(0, u4)
% D(0, x1) E(0, x2) F(x3, x4)
%----------------------------------------------------------------------;

% 関数定義読み込み） ----------------------------------------------------;

load_package groebner;
on comp,gcd,ezgcd;
off allfac,pwrds;

in cal_sys_relations$

% ２点間のユークリッド距離D^2 -----------------------------------------------;
procedure squared_euclid(a1,a2,b1,b2)$
begin
 scalar d;
 d:=(a1-b1)^2+(a2-b2)^2;
 return d
end$
%----------------------------------------------------------------------;


% ---------------------------------------------------------------------;
% ＜証明＞ -------------------------------------------------------------;

order x4, x3, x2, x1, u4, u3, u2, u1;
factor x4, x3, x2, x1;

%----------------------------------------------------------------------;
% 仮定 ----------------------------------------------------------------;

% ∠BAD = ∠CAD となるようにDをとる
h1:=tangent(0, u3, u1, u2, 0, x1, u1, u2, 0, u1, 0, x1);

% AD // FC となるようにFをとる
h2:=parallel(u1, u2, 0, x1, x3, x4, 0, u4);

% 錯角の性質から、∠AFC = ∠BAD = ∠CAD = ∠ACFとなる
% ∴ AF = AC  <=> AF^2 - AC^2 = 0

af2:=squared_euclid(u1, u2, x3, x4);
ac2:=squared_euclid(u1, u2, 0, u4);

h3:=af2-ac2;

%----------------------------------------------------------------------;
% 結論 ----------------------------------------------------------------;
% A(u1, u2) B(0, u3) C(0, u4)
% D(0, x1) E(0, x2) F(x3, x4)

% BD:EC = AB:AC <=> BD^2*AC^2 - AB^2*DC^2 = 0

bd2:=squared_euclid(0, u3, 0, x1);
ac2:=squared_euclid(u1, u2, 0, u4);
ab2:=squared_euclid(u1, u2, 0, u3);
dc2:=squared_euclid(0, x1, 0, x4);

conclusion:=bd2*ac2-ab2*dc2;

showtime;
;end;